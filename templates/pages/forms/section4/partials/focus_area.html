{% for fa in focus_areas %}
    <div class="card mb-4">
        <div class="card-header text-white d-flex justify-content-between align-items-center">
            <strong>Focus Area: {{ fa.title }} ({{ fa.focus_area_type }})</strong>
            <div>
                <!-- BotÃ³n Editar FocusArea -->
                <button class="badge badge-light-warning btn btn-sm btn-outline-warning" data-bs-toggle="modal" data-bs-target="#modalEditFocusArea{{ fa.id }}">Edit</button>
                
                <!-- Modal -->
                <div class="modal fade" id="modalEditFocusArea{{ fa.id }}" tabindex="-1">
                <div class="modal-dialog">
                    <div class="modal-content" id="modal-content-replace-edit-focus-area">
                        {% include "pages/forms/section4/partials/modal_form_edit_focus_area.html" %}
                    </div>
                </div>
                </div>

                {% comment %} <form action="{% url 'delete_focusarea' fa.id %}" method="post" class="d-inline"> {% endcomment %}
                <form hx-post="{% url 'delete_focusarea' fa.id %}" hx-target="#focus-area-container" method="post" class="d-inline">
                    {% csrf_token %}
                    <button class="badge badge-light-danger btn btn-sm btn-outline-danger">Delete</button>
                </form>
            </div>
        </div>
        <div class="card-body">
            <p>{{ fa.description }}</p>

            <!-- FORMULARIO PARA CREAR GOAL -->
            <div id="goal-creation-form">
                {% include "pages/forms/section4/partials/goal_creation_form.html" %}
            </div>

            <!-- GOALS -->
            <h5>Goals</h5>
            <ul class="list-group mb-2" id="goals-container">
                {% include "pages/forms/section4/partials/goals.html" %}
            </ul>
        </div>
    </div>
    {% empty %}
    <div class="alert alert-warning">No Focus Areas yet.</div>
{% endfor %}


{% if tag_message %}
    <script>                
        Swal.fire({
            position: "top-center",
            icon: '{% if "error" in tags %}error{% elif "success" in tags %}success{% elif "info" in tags %}info{% elif "warning" in tags %}warning{% else %}question{% endif %}',
            title: "{{tag_message}}",
            showConfirmButton: false,
            timer: 3000
        });
    </script>
{% endif %}